<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="jquery-3.5.1.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <script defer src="gymial.js"></script>
    <link rel="stylesheet" href="style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="description" content="Gymial ist ein open-source Tool, das die Stundenpläne und Mensamenüs der KZO anzeigt.">
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#333">
    <title>Gymial - der open-source KZO Stundenplan</title>
</head>
<body>
    <div id="scrollLimiter">
        <div id="selection">
            <span id="open-menu" class="buttonSpan">
                <svg width="30" height="30">
                    <line x1="2" y1="5" x2="28" y2="5" style="stroke-width:2"></line>
                    <line x1="2" y1="15" x2="28" y2="15" style="stroke-width:2"></line>
                    <line x1="2" y1="25" x2="28" y2="25" style="stroke-width:2"></line>
                </svg>
            </span>
            <h1 id="current-class">C5c</h1>
            <span id="forward-next-sem" class="buttonSpan">
                <svg width="30" height="30">
                    <line x1="28" y1="15" x2="15" y2="5" style="stroke-width:2"></line>
                    <line x1="28" y1="15" x2="15" y2="25" style="stroke-width:2"></line>
                    <line x1="20" y1="15" x2="7" y2="5" style="stroke-width:2"></line>
                    <line x1="20" y1="15" x2="7" y2="25" style="stroke-width:2"></line>
                    <line x1="20" y1="15" x2="0" y2="15" style="stroke-width:2"></line>
                </svg>
            </span>
            <span id="week-forward" class="buttonSpan">
                <svg width="30" height="30">
                    <line x1="28" y1="15" x2="15" y2="5" style="stroke-width:2"></line>
                    <line x1="28" y1="15" x2="15" y2="25" style="stroke-width:2"></line>
                    <line x1="28" y1="15" x2="0" y2="15" style="stroke-width:2"></line>
                </svg>
            </span>
            <span id="today" class="buttonSpan">
                <img width="30" src="calendar.svg" alt="Calendar icon">
            </span>
            <span id="week-back" class="buttonSpan">
                <svg width="30" height="30">
                    <line x1="2" y1="15" x2="15" y2="5" style="stroke-width:2"></line>
                    <line x1="2" y1="15" x2="15" y2="25" style="stroke-width:2"></line>
                    <line x1="2" y1="15" x2="30" y2="15" style="stroke-width:2"></line>
                </svg>
            </span>
            <span id="backward-next-sem" class="buttonSpan">
                <svg width="30" height="30">
                    <line x1="2" y1="15" x2="15" y2="5" style="stroke-width:2"></line>
                    <line x1="2" y1="15" x2="15" y2="25" style="stroke-width:2"></line>
                    <line x1="10" y1="15" x2="23" y2="5" style="stroke-width:2"></line>
                    <line x1="10" y1="15" x2="23" y2="25" style="stroke-width:2"></line>
                    <line x1="10" y1="15" x2="30" y2="15" style="stroke-width:2"></line>
                </svg>
            </span>
        </div>
        <div id="progress-bar-cont">
            <hr id="progress-bar">
        </div>
        <div id="sidebar">
            <div id="search-dropdown" class="dropdown-content">
                <label for="classSelect" class="visuallyhidden">Suche nach Klasse, Raum oder Person</label>
                <input id="classSelect" placeholder="Suche" onkeyup="filterObjects()"/>
                <div id="search-results"></div>
            </div>
            <span id="link-timetable" class="sidebar-link active">Stundenplan</span>
            <span id="link-account" class="sidebar-link">Mein Account</span>
            <span id="link-mensa" class="sidebar-link">Mensaplan</span>
            <div id="sidebar-bottom">
                <a class="sidebar-link bottom" href="https://discord.gg/wM4Wsts" rel="noopener" target="_blank">Entwicklungs-Discord-Server</a>
                <a class="sidebar-link bottom" href="https://github.com/LetsPlentendo-CH/gymial" rel="noopener" target="_blank">Gymial auf GitHub</a>
            </div>
        </div>
        <div id="panels">
            <div id="panel-timetable">
                <noscript>JavaScript wird für diese Website benötigt. Bitte aktiviere es</noscript>
                <table id="timetable">
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div id="panel-account">
                <form id="login-form" method="post" onsubmit="return false">
                    <h2 style="text-align: center; margin-bottom: 20px;">Melde dich an, um Klassenlisten zu sehen.</h2>
                    <label id="label-user">Name (vorname.nachname)</label>
                    <input id="login-user" autocomplete="username" name="user" type="text" placeholder="Name" aria-labelledby="label-user" required>

                    <label id="label-pw">Passwort für das Intranet</label>
                    <input id="login-pw" autocomplete="current-password" name="pass" type="password" placeholder="Passwort" aria-labelledby="label-pw" autocomplete="current-password" required>

                    <div id="button-spinner">
                        <span id="invalid-login" style="display: none;">Ungültiges Login!</span>
                        <img width="40" src="spinner.svg" alt="Loading spinner" style="display: none;">
                        <button id="login-submit">Einloggen</button>
                    </div>
                </form>
                <div id="accountinfo" style="display: none;">
                    <h1>Angemeldet als:</h1>
                    <span id="ownName"></span>
                    <div id="otherDetails"></div>
                    <button id="persplan">Persönlicher Stundenplan</button>
                    <p>Hinweis: Momentan werden durchgestrichene Lektionen im persönlichen Stundenplan unsichtbar, anstatt dass sie durchgestrichen werden. Dies liegt am TAM-Intranet, nicht an Gymial.</p>
                    <button id="logout">Abmelden</button>
                </div>
            </div>
            <div id="panel-mensa">
                <table id="mensa-table">
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="margin-details" class="overlay-window">
        <div id="details-overlay">
            <span class="icon-x"></span>
            <div id="overlay-lesson-tabs"></div>
            <div id="lesson-detail">
                <p id="room-detail"></p>
                <p id="teacher-detail"></p>
                <div id="personal-shit">
                    <img width="40" src="spinner.svg" alt="Loading spinner">
                </div>
            </div>
        </div>
    </div>
</body>
</html>
